{% extends 'base.html' %}

{% block content %}
{% if current_user.is_authenticated %}
<form action="{{ url_for('registro') }}" method="POST">
    {{ form.csrf_token }}
    <div class="container">
        <div class="card my-5">
            <div class="card-header">Cadastro de Usuário</div>
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-5">
                        <label class="control-label">Nome *</label>
                        <input type="text" name="nome" class="form-control" placeholder="Nome" required>
                    </div>
                    <div class="col-sm-3">
                        <label class="control-label">CPF *</label>
                        <input type="text" name="cpf" class="form-control" placeholder="Ex.: 000.000.000-00" data-mask="999.999.999-99" maxlength="14" required>
                    </div>
                    <div class="col-sm-2">
                        <label class="control-label">Data Nasc. *</label>
                        <input type="datetime" name="datanascimento" class="form-control" placeholder="Ex.: 99/99/9999" data-mask="99/99/9999" maxlength="10" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <label class="control-label">E-mail *</label>
                        <input type="email" name="email" class="form-control" placeholder="E-mail" required>
                    </div>
                    <div class="col-sm-4">
                        <label class="control-label">Cargo *</label>
                        {{ form.cargos(class="form-control") }}                                
                    </div>                         
                    <div class="col-sm-4">
                        <label class="control-label">Senha *</label>
                        <input type="password" name="senha" class="form-control" placeholder="***" required>
                    </div>                                    
                </div>
            </div>        
        </div>
        <div class="d-flex flex-row-reverse">
            <button type="submit" class="btn btn-outline-primary">Cadastrar</button>
            <a href="{{ url_for('usuarios') }}" class="btn btn-outline-secondary mr-1">Voltar</a>
        </div>
    </div>
</form>
{% else %}
<form action="{{ url_for('novousuario') }}" method="POST">
    {{ form.csrf_token }}
    <div class="container">
        <div class="card my-5">
            <div class="card-header">Cadastro de Usuário</div>
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-5">
                        <label class="control-label">Nome *</label>
                        <input type="text" name="nome" class="form-control" placeholder="Nome" required>
                    </div>
                    <div class="col-sm-3">
                        <label class="control-label">CPF *</label>
                        <input type="text" name="cpf" class="form-control" placeholder="Ex.: 000.000.000-00" data-mask="999.999.999-99" maxlength="14" required>
                    </div>
                    <div class="col-sm-2">
                        <label class="control-label">Data Nasc. *</label>
                        <input type="datetime" name="datanascimento" class="form-control" placeholder="Ex.: 99/99/9999" data-mask="99/99/9999" maxlength="10" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <label class="control-label">E-mail *</label>
                        <input type="email" name="email" class="form-control" placeholder="E-mail" required>
                    </div>                      
                    <div class="col-sm-4">
                        <label class="control-label">Senha *</label>
                        <input type="password" name="senha" class="form-control" placeholder="***" required>
                    </div>                                    
                </div>
            </div>        
        </div>
        <div class="d-flex flex-row-reverse">
            <button type="submit" class="btn btn-outline-primary">Cadastrar</button>
        </div>
    </div>
</form>
{% endif %}
{% endblock %}